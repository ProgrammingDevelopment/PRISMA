(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,86536,e=>{"use strict";let a=(0,e.i(75254).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>a],86536)},15288,e=>{"use strict";var a=e.i(43476),t=e.i(71645),s=e.i(75157);let r=t.forwardRef(({className:e,...t},r)=>(0,a.jsx)("div",{ref:r,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));r.displayName="Card";let n=t.forwardRef(({className:e,...t},r)=>(0,a.jsx)("div",{ref:r,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",e),...t}));n.displayName="CardHeader";let i=t.forwardRef(({className:e,...t},r)=>(0,a.jsx)("h3",{ref:r,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));i.displayName="CardTitle";let l=t.forwardRef(({className:e,...t},r)=>(0,a.jsx)("p",{ref:r,className:(0,s.cn)("text-sm text-muted-foreground",e),...t}));l.displayName="CardDescription";let d=t.forwardRef(({className:e,...t},r)=>(0,a.jsx)("div",{ref:r,className:(0,s.cn)("p-6 pt-0",e),...t}));d.displayName="CardContent";let c=t.forwardRef(({className:e,...t},r)=>(0,a.jsx)("div",{ref:r,className:(0,s.cn)("flex items-center p-6 pt-0",e),...t}));c.displayName="CardFooter",e.s(["Card",()=>r,"CardContent",()=>d,"CardDescription",()=>l,"CardFooter",()=>c,"CardHeader",()=>n,"CardTitle",()=>i])},71689,e=>{"use strict";let a=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>a],71689)},25652,e=>{"use strict";let a=(0,e.i(75254).default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);e.s(["TrendingUp",()=>a],25652)},83418,e=>{"use strict";function a(e,a){return a>0?e/a*100:0}function t(e){return["image/jpeg","image/png","image/webp"].includes(e.type)?e.size>5242880?{valid:!1,message:"Ukuran file maksimal 5MB"}:{valid:!0,message:"File valid"}:{valid:!1,message:"Format file harus JPG, PNG, atau WebP"}}function s(e){let a=e.allocatedBudget-e.actualExpense,t=e.allocatedBudget>0?(e.actualExpense-e.allocatedBudget)/e.allocatedBudget*100:0;return t>10?{variance:a,percentage:t,status:"over"}:t<-10?{variance:a,percentage:t,status:"under"}:{variance:a,percentage:t,status:"on_budget"}}function r(e){if(0===e.findings.length)return 100;let a={low:5,medium:15,high:25};return Math.max(0,100-e.findings.reduce((e,t)=>e+(t.resolved?0:a[t.severity]),0))}function n(e){let a=e.votesFor+e.votesAgainst;if(0===a)return{result:"pending",approvalPercentage:0};let t=e.votesFor/a*100;return t>=60?{result:"approved",approvalPercentage:t}:t<40?{result:"rejected",approvalPercentage:t}:{result:"pending",approvalPercentage:t}}function i(e){let a=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e);return`
ðŸ“Š *LAPORAN KEUANGAN RT 04 RW 09 KEMAYORAN*
ðŸ“… Periode: ${e.month} ${e.year}

ðŸ’° *Ringkasan Keuangan:*
â€¢ Pemasukan: ${a(e.totalIncome)}
â€¢ Pengeluaran: ${a(e.totalExpense)}
â€¢ Saldo Akhir: ${a(e.balance)}

ðŸ“ *Catatan:*
${e.summary}

ðŸŒ Detail lengkap: https://prisma-rt04.vercel.app/keuangan/laporan

_Diterbitkan oleh Sekretariat RT 04_
_${new Date(e.publishedAt).toLocaleDateString("id-ID",{dateStyle:"long"})}_

#TransparansiRT04 #PrismaRT04
`.trim()}function l(e){let a=encodeURIComponent(e);return`https://wa.me/?text=${a}`}function d(e){return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}e.s(["DEFAULT_IURAN_CONFIG",0,{nominal:1e4,dueDate:10,gracePeriodDays:5,paymentMethods:[{id:"cash",name:"Tunai ke RT",type:"cash",isActive:!0},{id:"bca_transfer",name:"Transfer BCA",type:"bank_transfer",accountNumber:"1234567890",accountName:"RT 04 RW 09 KEMAYORAN",isActive:!0},{id:"qris",name:"QRIS",type:"qris",qrCodeUrl:"/images/qris-rt04.png",isActive:!0}]},"SUGGESTED_INFRASTRUCTURE",0,[{title:"CCTV Keamanan",description:"Pemasangan 4 unit CCTV di titik strategis (pintu masuk, pos ronda, taman)",category:"security",estimatedCost:8e6,priority:"high"},{title:"Penerangan Jalan Tambahan",description:"Pemasangan 6 lampu LED di gang-gang gelap untuk keamanan malam",category:"lighting",estimatedCost:3e6,priority:"medium"},{title:"Renovasi Pos Ronda",description:"Perbaikan atap dan penambahan fasilitas pos ronda",category:"security",estimatedCost:2e6,priority:"medium"},{title:"Tempat Sampah Terpilah",description:"Pengadaan 10 set tempat sampah organik-anorganik",category:"sanitation",estimatedCost:15e5,priority:"low"}],"calculateAuditScore",()=>r,"calculateEventBudgetVariance",()=>s,"calculateVotingResult",()=>n,"formatRupiah",()=>d,"generateWhatsAppMessage",()=>i,"getIuranComplianceRate",()=>a,"getWhatsAppShareUrl",()=>l,"validatePaymentProof",()=>t])},35408,e=>{"use strict";let a=(0,e.i(75254).default)("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]]);e.s(["TrendingDown",()=>a],35408)},74886,e=>{"use strict";let a=(0,e.i(75254).default)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);e.s(["Copy",()=>a],74886)},89221,e=>{"use strict";var a=e.i(43476),t=e.i(71645),s=e.i(22016),r=e.i(15288),n=e.i(19455),i=e.i(71689),l=e.i(94983),d=e.i(75254);let c=(0,d.default)("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);var m=e.i(74886),o=e.i(65953);let u=(0,d.default)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);var x=e.i(26707),p=e.i(40160),h=e.i(86536),g=e.i(14764),b=e.i(25652),f=e.i(35408),j=e.i(83418);let k=[{id:"1",month:"Januari",year:2026,summary:"Kondisi keuangan stabil dengan surplus Rp 171.000. Pengeluaran utama untuk gaji petugas kebersihan dan keamanan.",totalIncome:721e3,totalExpense:55e4,balance:2561e3,publishedAt:"2026-01-27T10:00:00Z",whatsappSent:!0,views:45},{id:"2",month:"Desember",year:2025,summary:"Pemasukan meningkat dari donasi akhir tahun. Dana cadangan untuk event tahun baru berhasil dialokasikan.",totalIncome:85e4,totalExpense:6e5,balance:239e4,publishedAt:"2025-12-28T09:00:00Z",whatsappSent:!0,views:52},{id:"3",month:"November",year:2025,summary:"Pengeluaran normal untuk operasional bulanan. Semua warga membayar iuran tepat waktu.",totalIncome:7e5,totalExpense:48e4,balance:214e4,publishedAt:"2025-11-29T08:30:00Z",whatsappSent:!0,views:38}];function N(){let[e,d]=(0,t.useState)(k[0]),[N,y]=(0,t.useState)(!1),[w,v]=(0,t.useState)(!1),C=async()=>{e&&(v(!0),await new Promise(e=>setTimeout(e,1500)),v(!1),alert("Laporan berhasil dikirim ke grup WhatsApp RT 04!"))};return(0,a.jsx)("div",{className:"min-h-screen bg-background py-8",children:(0,a.jsxs)("div",{className:"container mx-auto px-4 max-w-5xl",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4 mb-8",children:[(0,a.jsx)(n.Button,{variant:"outline",asChild:!0,children:(0,a.jsxs)(s.default,{href:"/keuangan/laporan",children:[(0,a.jsx)(i.ArrowLeft,{className:"h-4 w-4 mr-2"}),"Kembali"]})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("div",{className:"flex items-center gap-2 mb-1",children:(0,a.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium bg-rose-100 text-rose-700 dark:bg-rose-900/30 dark:text-rose-400",children:[(0,a.jsx)(l.MessageCircle,{className:"h-3 w-3"})," Rekomendasi #6"]})}),(0,a.jsx)("h1",{className:"text-3xl font-bold text-foreground",children:"Laporan Publik"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Publikasikan laporan keuangan ke grup WhatsApp RT"})]})]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-3 gap-8",children:[(0,a.jsxs)("div",{className:"md:col-span-1 space-y-4",children:[(0,a.jsx)("h2",{className:"font-semibold text-lg mb-4",children:"Pilih Laporan"}),k.map(t=>(0,a.jsx)(r.Card,{className:`
                                    cursor-pointer transition-all
                                    ${e?.id===t.id?"border-primary ring-2 ring-primary":"hover:border-primary/50"}
                                `,onClick:()=>d(t),children:(0,a.jsxs)(r.CardContent,{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"font-medium",children:[t.month," ",t.year]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:new Date(t.publishedAt).toLocaleDateString("id-ID")})]}),t.whatsappSent&&(0,a.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",children:[(0,a.jsx)(o.Check,{className:"h-3 w-3"})," Terkirim"]})]}),(0,a.jsxs)("div",{className:"flex gap-4 text-sm",children:[(0,a.jsxs)("span",{className:"text-green-600",children:["+",(0,j.formatRupiah)(t.totalIncome)]}),(0,a.jsxs)("span",{className:"text-red-600",children:["-",(0,j.formatRupiah)(t.totalExpense)]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-2 text-xs text-muted-foreground",children:[(0,a.jsx)(h.Eye,{className:"h-3 w-3"}),t.views," views"]})]})},t.id))]}),(0,a.jsx)("div",{className:"md:col-span-2 space-y-6",children:e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(r.Card,{className:"border-2",children:[(0,a.jsx)(r.CardHeader,{className:"bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-t-lg",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(x.Smartphone,{className:"h-5 w-5"}),(0,a.jsx)(r.CardTitle,{className:"text-lg",children:"Preview Pesan WhatsApp"})]})}),(0,a.jsx)(r.CardContent,{className:"p-0",children:(0,a.jsx)("div",{className:"bg-[#e5ddd5] dark:bg-slate-800 p-4",children:(0,a.jsxs)("div",{className:"max-w-sm ml-auto bg-[#dcf8c6] dark:bg-green-900/50 rounded-lg p-3 shadow",children:[(0,a.jsx)("pre",{className:"text-sm whitespace-pre-wrap font-sans text-gray-800 dark:text-gray-200",children:(0,j.generateWhatsAppMessage)(e)}),(0,a.jsx)("div",{className:"text-right mt-1",children:(0,a.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:new Date().toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"})})})]})})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,a.jsx)(r.Card,{className:"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800",children:(0,a.jsxs)(r.CardContent,{className:"p-4 text-center",children:[(0,a.jsx)(b.TrendingUp,{className:"h-6 w-6 text-green-600 mx-auto mb-2"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Pemasukan"}),(0,a.jsx)("p",{className:"font-bold text-green-600",children:(0,j.formatRupiah)(e.totalIncome)})]})}),(0,a.jsx)(r.Card,{className:"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800",children:(0,a.jsxs)(r.CardContent,{className:"p-4 text-center",children:[(0,a.jsx)(f.TrendingDown,{className:"h-6 w-6 text-red-600 mx-auto mb-2"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Pengeluaran"}),(0,a.jsx)("p",{className:"font-bold text-red-600",children:(0,j.formatRupiah)(e.totalExpense)})]})}),(0,a.jsx)(r.Card,{className:"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800",children:(0,a.jsxs)(r.CardContent,{className:"p-4 text-center",children:[(0,a.jsx)(c,{className:"h-6 w-6 text-blue-600 mx-auto mb-2"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Saldo"}),(0,a.jsx)("p",{className:"font-bold text-blue-600",children:(0,j.formatRupiah)(e.balance)})]})})]}),(0,a.jsxs)(r.Card,{children:[(0,a.jsxs)(r.CardHeader,{children:[(0,a.jsx)(r.CardTitle,{className:"text-lg",children:"Bagikan Laporan"}),(0,a.jsx)(r.CardDescription,{children:"Pilih cara untuk membagikan laporan ke warga"})]}),(0,a.jsxs)(r.CardContent,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid sm:grid-cols-2 gap-3",children:[(0,a.jsxs)(n.Button,{className:"bg-green-600 hover:bg-green-700 text-white",onClick:()=>{if(!e)return;let a=(0,j.generateWhatsAppMessage)(e),t=(0,j.getWhatsAppShareUrl)(a);window.open(t,"_blank")},children:[(0,a.jsx)(l.MessageCircle,{className:"h-4 w-4 mr-2"}),"Buka WhatsApp",(0,a.jsx)(u,{className:"h-3 w-3 ml-2"})]}),(0,a.jsx)(n.Button,{variant:"outline",onClick:()=>{if(!e)return;let a=(0,j.generateWhatsAppMessage)(e);navigator.clipboard.writeText(a),y(!0),setTimeout(()=>y(!1),2e3)},children:N?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.Check,{className:"h-4 w-4 mr-2"}),"Tersalin!"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(m.Copy,{className:"h-4 w-4 mr-2"}),"Salin Pesan"]})})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,a.jsx)("span",{className:"w-full border-t"})}),(0,a.jsx)("div",{className:"relative flex justify-center text-xs uppercase",children:(0,a.jsx)("span",{className:"bg-background px-2 text-muted-foreground",children:"atau"})})]}),(0,a.jsx)(n.Button,{className:"w-full",variant:"default",onClick:C,disabled:w,children:w?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Mengirim..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(g.Send,{className:"h-4 w-4 mr-2"}),"Kirim ke Grup RT 04 (via Bot)"]})}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground text-center",children:"Bot WhatsApp akan mengirim pesan ke grup RT 04 secara otomatis"})]})]}),(0,a.jsx)(n.Button,{variant:"outline",className:"w-full",asChild:!0,children:(0,a.jsxs)(s.default,{href:`/api/database/keuangan/pdf?bulan=${e.month}&tahun=${e.year}`,children:[(0,a.jsx)(p.Download,{className:"h-4 w-4 mr-2"}),"Download PDF Laporan Lengkap"]})})]}):(0,a.jsx)(r.Card,{className:"border-dashed border-2",children:(0,a.jsxs)(r.CardContent,{className:"py-12 text-center",children:[(0,a.jsx)(l.MessageCircle,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),(0,a.jsx)("h3",{className:"font-semibold text-lg mb-2",children:"Pilih Laporan"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Pilih laporan bulanan di sebelah kiri untuk melihat preview"})]})})})]}),(0,a.jsx)(r.Card,{className:"mt-8 bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800",children:(0,a.jsx)(r.CardContent,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(l.MessageCircle,{className:"h-5 w-5 text-blue-600 mt-0.5"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold text-blue-800 dark:text-blue-300 mb-2",children:"Tips Publikasi Laporan"}),(0,a.jsxs)("ul",{className:"text-sm text-blue-700 dark:text-blue-400 space-y-1 list-disc list-inside",children:[(0,a.jsx)("li",{children:"Kirim laporan setiap akhir bulan untuk menjaga transparansi"}),(0,a.jsx)("li",{children:"Sertakan ringkasan singkat agar mudah dipahami warga"}),(0,a.jsx)("li",{children:"Undang warga untuk bertanya jika ada yang kurang jelas"}),(0,a.jsx)("li",{children:"Link ke website dapat diakses kapan saja untuk detail lengkap"})]})]})]})})})]})})}e.s(["default",()=>N],89221)}]);